\doxysection{Pressure\+Sensor.\+h}
\hypertarget{_pressure_sensor_8h_source}{}\label{_pressure_sensor_8h_source}\index{main/PressureSensor.h@{main/PressureSensor.h}}
\mbox{\hyperlink{_pressure_sensor_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#ifndef\ PRESSURESENSOR\_H}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#define\ PRESSURESENSOR\_H}}
\DoxyCodeLine{00011\ \textcolor{comment}{/*}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ ***********************************************************}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ Includes}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ ***********************************************************}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_config_8h}{Config.h}}"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_global_8h}{Global.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{comment}{/*}}
\DoxyCodeLine{00020\ \textcolor{comment}{\ *\ ***********************************************************}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ Defines}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ *\ ***********************************************************}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#define\ PRESSURE\_SENSOR\_READING1\ \ \ \ global\_pressure\_reading1\ \ \ \ \ \ }\textcolor{comment}{//The\ readings\ of\ the\ sensor\ is\ written\ in\ this\ global\ variable.}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#define\ PRESSURE\_SENSOR\_READING2\ \ \ \ global\_pressure\_reading2\ \ \ \ \ \ }\textcolor{comment}{//The\ readings\ of\ the\ sensor\ is\ written\ in\ this\ global\ variable.}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#define\ PRESSURE\_MIN\_VOLT1\ \ \ \ \ \ \ \ \ \ global\_pressure\_min\_volt1\ \ \ \ \ }\textcolor{comment}{//voltage\ when\ the\ reading\ is\ 0\ PSI}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#define\ PRESSURE\_MAX\_VOLT1\ \ \ \ \ \ \ \ \ \ global\_pressure\_max\_volt1\ \ \ \ \ }\textcolor{comment}{//voltage\ when\ the\ reading\ is\ maximum\ PSI}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#define\ PRESSURE\_MIN\_VOLT2\ \ \ \ \ \ \ \ \ \ global\_pressure\_min\_volt2\ \ \ \ \ }\textcolor{comment}{//voltage\ when\ the\ reading\ is\ 0\ PSI}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#define\ PRESSURE\_MAX\_VOLT2\ \ \ \ \ \ \ \ \ \ global\_pressure\_max\_volt2\ \ \ \ \ }\textcolor{comment}{//voltage\ when\ the\ reading\ is\ maximum\ PSI}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#define\ MAX\_PRESSURE\_VALUE1\ \ \ \ \ \ \ \ \ global\_max\_pressure\_value1\ \ \ \ }\textcolor{comment}{//the\ value\ of\ the\ maximum\ pressure\ that\ sensor\ can\ read}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#define\ MAX\_PRESSURE\_VALUE2\ \ \ \ \ \ \ \ \ global\_max\_pressure\_value2\ \ \ \ }\textcolor{comment}{//the\ value\ of\ the\ maximum\ pressure\ that\ sensor\ can\ read}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{comment}{/*}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ *\ ***********************************************************}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ Variables}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ *\ ***********************************************************}}
\DoxyCodeLine{00037\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00038\ \textcolor{keywordtype}{int}\ pressure1Zero\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 102.4;\ \ \textcolor{comment}{//analog\ reading\ of\ pressure\ transducer\ at\ 0\ psi}}
\DoxyCodeLine{00039\ \textcolor{keywordtype}{int}\ pressure1Max\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 921.6;\ \ \textcolor{comment}{//analog\ reading\ of\ pressure\ transducer\ at\ maximum\ psi}}
\DoxyCodeLine{00040\ \textcolor{keywordtype}{int}\ pressure1transducermaxPSI\ \ =\ 100;\ \ \ \ \textcolor{comment}{//psi\ value\ of\ transducer\ being\ used}}
\DoxyCodeLine{00041\ \textcolor{keywordtype}{int}\ pressure2Zero\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 102.4;\ \ \textcolor{comment}{//analog\ reading\ of\ pressure\ transducer\ at\ 0\ psi}}
\DoxyCodeLine{00042\ \textcolor{keywordtype}{int}\ pressure2Max\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ 921.6;\ \ \textcolor{comment}{//analog\ reading\ of\ pressure\ transducer\ at\ maximum\ psi}}
\DoxyCodeLine{00043\ \textcolor{keywordtype}{int}\ pressure2transducermaxPSI\ \ =\ 100;\ \ \ \ \textcolor{comment}{//psi\ value\ of\ transducer\ being\ used}}
\DoxyCodeLine{00044\ \textcolor{keywordtype}{float}\ pressureValue\ \ \ \ \ \ \ \ \ \ \ \ =\ 0;\ \ \ \ \ \ \textcolor{comment}{//variable\ to\ store\ the\ value\ coming\ from\ the\ pressure\ transducer}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{comment}{/*}}
\DoxyCodeLine{00047\ \textcolor{comment}{\ *\ ***********************************************************}}
\DoxyCodeLine{00048\ \textcolor{comment}{\ *\ \ \ \ \ \ \ \ \ \ \ \ \ Functions\ body}}
\DoxyCodeLine{00049\ \textcolor{comment}{\ *\ ***********************************************************}}
\DoxyCodeLine{00050\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00051\ \textcolor{keywordtype}{void}\ setupPressure()}
\DoxyCodeLine{00052\ \{}
\DoxyCodeLine{00053\ \ \ pinMode(PRESSURE1\_PIN,INPUT);}
\DoxyCodeLine{00054\ \ \ pinMode(PRESSURE2\_PIN,INPUT);}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \textcolor{comment}{//Pressure\ sensor\ parameters\ configrations}}
\DoxyCodeLine{00057\ \ \ PRESSURE\_MIN\_VOLT1\ \ \ =\ (512.00/1023.00);\ \ \ \ \textcolor{comment}{//voltage\ when\ the\ reading\ is\ 0\ PSI}}
\DoxyCodeLine{00058\ \ \ PRESSURE\_MAX\_VOLT1\ \ \ =\ (1536.00/341.00);\ \ \ \ \textcolor{comment}{//voltage\ when\ the\ reading\ is\ maximum\ PSI}}
\DoxyCodeLine{00059\ \ \ PRESSURE\_MIN\_VOLT2\ \ \ =\ (512.00/1023.00);\ \ \ \ \textcolor{comment}{//voltage\ when\ the\ reading\ is\ 0\ PSI}}
\DoxyCodeLine{00060\ \ \ PRESSURE\_MAX\_VOLT2\ \ \ =\ (1536.00/341.00);\ \ \ \ \textcolor{comment}{//voltage\ when\ the\ reading\ is\ maximum\ PSI}}
\DoxyCodeLine{00061\ \ \ MAX\_PRESSURE\_VALUE1\ \ =\ 100;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//the\ value\ of\ the\ maximum\ pressure\ that\ sensor\ can\ read}}
\DoxyCodeLine{00062\ \ \ MAX\_PRESSURE\_VALUE2\ \ =\ 100;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//the\ value\ of\ the\ maximum\ pressure\ that\ sensor\ can\ read}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ pressure1Zero\ =\ (PRESSURE\_MIN\_VOLT1*(1023.00/5.00));}
\DoxyCodeLine{00065\ \ \ pressure1Max\ \ =\ (PRESSURE\_MAX\_VOLT1*(1023.00/5.00));}
\DoxyCodeLine{00066\ \ \ pressure2Zero\ =\ (PRESSURE\_MIN\_VOLT2*(1023.00/5.00));}
\DoxyCodeLine{00067\ \ \ pressure2Max\ \ =\ (PRESSURE\_MAX\_VOLT2*(1023.00/5.00));}
\DoxyCodeLine{00068\ \ \ pressure1transducermaxPSI\ =\ MAX\_PRESSURE\_VALUE1;}
\DoxyCodeLine{00069\ \ \ pressure2transducermaxPSI\ =\ MAX\_PRESSURE\_VALUE2;}
\DoxyCodeLine{00070\ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{keywordtype}{void}\ loopPressure()}
\DoxyCodeLine{00073\ \{}
\DoxyCodeLine{00074\ \ \ pressureValue\ =\ analogRead(PRESSURE1\_PIN);}
\DoxyCodeLine{00075\ \ \ pressureValue\ =\ ((pressureValue-\/pressure1Zero)*pressure1transducermaxPSI)/(pressure1Max-\/pressure1Zero);\ \textcolor{comment}{//conversion\ equation\ to\ convert\ analog\ reading\ to\ psi}}
\DoxyCodeLine{00076\ \ \ PRESSURE\_SENSOR\_READING1\ =\ pressureValue;\ \textcolor{comment}{//Values\ in\ PSI}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ pressureValue\ =\ analogRead(PRESSURE2\_PIN);}
\DoxyCodeLine{00079\ \ \ pressureValue\ =\ ((pressureValue-\/pressure2Zero)*pressure2transducermaxPSI)/(pressure2Max-\/pressure2Zero);\ \textcolor{comment}{//conversion\ equation\ to\ convert\ analog\ reading\ to\ psi}}
\DoxyCodeLine{00080\ \ \ PRESSURE\_SENSOR\_READING2\ =\ pressureValue;\ \textcolor{comment}{//Values\ in\ PSI}}
\DoxyCodeLine{00081\ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//PRESSURESENSOR\_H}}

\end{DoxyCode}
